# Smart Assistant Avatar - Visual Positioning Guide

## Comment Layout with Assistant Avatar

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Comments Dialog                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ‘¤ John Doe                    [â‹® Edit | Delete]      â”‚
â”‚                                                         â”‚
â”‚  "Check this cool article and I need new shoes!"       â”‚
â”‚  [âœ¨] Like | Reply                                      â”‚
â”‚                                                         â”‚
â”‚  (Assistant expands here when clicked)                 â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ‘¤ Sarah Smith                                        â”‚
â”‚                                                         â”‚
â”‚  "Meet me at the coffee shop downtown?"               â”‚
â”‚  [âœ¨] Like | Reply                                      â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Expanded Assistant Panel Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ¨ Smart Analysis                           [âœ•] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  ğŸ“ Explanation                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ "This mentions an article, a product,    â”‚  â”‚
â”‚  â”‚  and a location..."                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚  Language: [English â–¼]                          â”‚
â”‚                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                  â”‚
â”‚  ğŸ“° Articles Detected (1)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Style Guide for Modern Fashion            â”‚  â”‚
â”‚  â”‚ Source: fashionblog.com                  â”‚  â”‚
â”‚  â”‚ ğŸ”— Read full article â†’                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                  â”‚
â”‚  ğŸ‘• Products/Clothing (1)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Shoes                                     â”‚  â”‚
â”‚  â”‚ Category: clothing                       â”‚  â”‚
â”‚  â”‚ Context: "...I need new shoes..."        â”‚  â”‚
â”‚  â”‚ ğŸ”— Find similar â†’                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                  â”‚
â”‚  ğŸ“ Places (1)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Coffee                                    â”‚  â”‚
â”‚  â”‚ Type: restaurant                         â”‚  â”‚
â”‚  â”‚ Context: "...coffee shop downtown..."    â”‚  â”‚
â”‚  â”‚ ğŸ”— Get directions â†’                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Button States

### Default State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Username                 â”‚
â”‚ Comment text here...    [âœ¨] â”‚ â† Gray sparkles button
â”‚ Like | Reply               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Hover State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Username                 â”‚
â”‚ Comment text here...    [âœ¨] â”‚ â† Blue sparkles button
â”‚ Like | Reply               â”‚  (Tooltip shows below)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Smart Assistant      â”‚
                â”‚ Detects: Articles â€¢  â”‚
                â”‚ Products â€¢ Places    â”‚
                â”‚                      â”‚
                â”‚ [Analyze] [Image]   â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Active/Expanded State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Username                 â”‚
â”‚ Comment text here...    [âœ¨] â”‚ â† Highlighted blue button
â”‚ Like | Reply               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ¨ Smart Analysis    [âœ•]   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Explanation text...   â”‚  â”‚
â”‚  â”‚ Language: [English â–¼] â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ“° Articles (1)       â”‚  â”‚
â”‚  â”‚ ğŸ‘• Products (2)       â”‚  â”‚
â”‚  â”‚ ğŸ“ Places (1)         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Tree

```
CommentsDialog
â”œâ”€â”€ comment #1
â”‚   â”œâ”€â”€ Avatar
â”‚   â”œâ”€â”€ Comment Box
â”‚   â”‚   â”œâ”€â”€ Username
â”‚   â”‚   â””â”€â”€ Content
â”‚   â””â”€â”€ CommentAssistantAvatar â† This component
â”‚       â”œâ”€â”€ Sparkles Button
â”‚       â”œâ”€â”€ Tooltip (on hover)
â”‚       â””â”€â”€ Expanded Panel (when clicked)
â”‚           â”œâ”€â”€ Explanation Section
â”‚           â”œâ”€â”€ Language Selector
â”‚           â”œâ”€â”€ Articles Section
â”‚           â”œâ”€â”€ Products Section
â”‚           â””â”€â”€ Places Section
â””â”€â”€ comment #2
    â””â”€â”€ CommentAssistantAvatar
        â””â”€â”€ ...
```

## Styling Details

### Colors
- **Button Gradient**: `from-blue-100 to-purple-100` â†’ `from-blue-200 to-purple-200` (hover)
- **Sparkles Icon**: `text-blue-600`
- **Panel Background**: `from-blue-50 to-purple-50`
- **Panel Border**: `border-2 border-blue-300`
- **Article Border**: `border-l-2 border-blue-400`
- **Product Border**: `border-l-2 border-green-400`
- **Place Border**: `border-l-2 border-purple-400`

### Sizing
- **Button**: `p-2` (8px padding), `size-4` icon
- **Panel**: `w-96 max-w-sm` (384px, responsive)
- **Panel Height**: `max-h-96` (384px, scrollable)
- **Card Height**: Line-clamp with text truncation
- **Border**: `2px` border on panel, `2px` left border on items

### Spacing
- **Comment Gap**: `gap-3` between avatar and content
- **Card Content**: `space-y-3` between sections
- **Item Spacing**: `space-y-1` between items
- **Padding**: `px-3 py-2` in cards, `px-2 py-1` in buttons

## Z-Index Strategy

```
z-index hierarchy:
- Dialog backdrop: default (base)
- Comments Dialog: default + 1
- Assistant Panel: z-50 (ensures visibility)
- Tooltip: on top of button
```

## Responsive Behavior

### Desktop (1024px+)
- Panel width: 384px (w-96)
- Positioned absolutely to left of button
- Full height scrollable content

### Tablet (768px-1023px)
- Panel width: max-w-sm (384px)
- May overlap other elements
- Touch-friendly buttons (larger tap targets)

### Mobile (< 768px)
- Panel width: max-w-sm (fits in viewport)
- May need repositioning to center
- Scroll within modal
- **Recommendation**: Add responsive CSS for mobile

## Interaction Flow

```
User sees comment with [âœ¨] button
                    â†“
         (User hovers over button)
                    â†“
        Tooltip appears with options:
        - Smart Assistant info
        - Analyze button
        - Image button
                    â†“
         (User clicks sparkles button)
                    â†“
        Panel expands below button
        (Fetching detection results...)
                    â†“
        Panel shows detected items:
        - Articles with links
        - Products with suggestions
        - Places with directions
                    â†“
   (User clicks item action or close)
                    â†“
        Panel closes/result clears
```

## Accessibility Features

- **Semantic HTML**: `<button>` for interactivity
- **ARIA**: Tooltips use built-in accessibility
- **Keyboard**: Click-based (can add keyboard support)
- **Contrast**: Blue on white for readability
- **Icons**: Emoji for quick visual recognition
- **Text**: Clear labels and descriptions

## Animation Effects

```
Button hover: 
  - Background color transition
  - Shadow increase
  - Smooth 200ms ease

Panel appearance:
  - Fade in (opacity 0 â†’ 1)
  - Smooth slide down

Loading spinner:
  - Infinite rotate animation
  - 6px width border
  - Blue color
```

## Edge Cases Handled

1. **Empty Detection**: Shows message "Click Analyze to detect..."
2. **No Text**: Disables button or shows warning
3. **Long Explanations**: Truncates with `line-clamp-4`
4. **Multiple Items**: Scrollable container with `max-h-96 overflow-y-auto`
5. **URL Links**: Opens in new tab with `target="_blank" rel="noopener noreferrer"`
6. **Loading State**: Shows animated spinner
7. **Error State**: Shows red alert box with message
8. **Close Button**: Clears all results and resets state

